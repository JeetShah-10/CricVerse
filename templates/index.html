{% extends 'base.html' %}
{% block title %}Home ‚Ä¢ CricVerse{% endblock %}
{% block head %}
    {{ super() }}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/unified.css') }}">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
{% endblock %}
{% block content %}
<!-- HERO SECTION -->
<section class="hero-section fade-in">
  <div class="container">
    <div class="row align-items-center min-vh-75">
      <div class="col-lg-6">
        <h1 class="hero-title">Welcome to CricVerse</h1>
        <p class="hero-subtitle">Your ultimate destination for Big Bash League cricket. Book tickets, explore stadiums, discover teams, and experience the excitement of Australia's premier T20 competition.</p>
        
        {% if next_match_countdown %}
        <div class="countdown-widget mb-4 p-3 rounded-3">
          <div class="d-flex align-items-center text-white">
            <div class="cricket-ball me-3"></div>
            <div>
              <h6 class="mb-1">Next BBL Match</h6>
              <div class="countdown-timer h5 mb-0" id="countdown-timer">
                {{ next_match_countdown.days }}d {{ next_match_countdown.hours }}h {{ next_match_countdown.minutes }}m
              </div>
            </div>
          </div>
        </div>
        {% endif %}
        
        <div class="hero-actions">
          <a href="{{ url_for('events') }}" class="btn btn-primary btn-lg me-3 mb-3">
            <i class="bi bi-ticket-perforated me-2"></i>Book Tickets
          </a>
          <a href="{{ url_for('stadiums') }}" class="btn btn-outline-primary btn-lg mb-3">
            <i class="bi bi-geo-alt me-2"></i>Explore Stadiums
          </a>
        </div>
        
        <div class="hero-stats mt-4">
          <div class="row text-center">
            <div class="col-4">
              <h4 class="text-accent-cyan">8</h4>
              <small>BBL Teams</small>
            </div>
            <div class="col-4">
              <h4 class="text-accent-cyan">8</h4>
              <small>Iconic Venues</small>
            </div>
            <div class="col-4">
              <h4 class="text-accent-cyan">50+</h4>
              <small>Matches Per Season</small>
            </div>
          </div>
        </div>
      </div>
      
      <div class="col-lg-6 text-center">
        <div class="hero-visual position-relative">
          <div class="cricket-field-bg"></div>
          <img src="{{ url_for('static', filename='img/hero-cricket.png') }}" alt="Cricket Action" class="img-fluid" style="max-height: 500px;">
          <div class="floating-elements">
            <div class="cricket-ball" style="position: absolute; top: 10%; left: 20%; animation-delay: 0s;"></div>
            <div class="cricket-ball" style="position: absolute; top: 60%; right: 15%; animation-delay: 2s;"></div>
            <div class="cricket-ball" style="position: absolute; bottom: 20%; left: 10%; animation-delay: 4s;"></div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- UPCOMING BBL MATCHES -->
<section class="upcoming-matches py-5">
  <div class="container">
    <h2 class="text-center mb-5 slide-up">üèè Upcoming BBL Matches</h2>
    <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
      {% for event in upcoming_events %}
      <div class="col">
        <div class="card h-100 match-card rounded-4 shadow-sm">
          <div class="card-body d-flex flex-column justify-content-between align-items-center">
            <div class="d-flex align-items-center mb-3">
              {% if event.home_team and event.home_team.team_logo %}
              <img src="{{ event.home_team.team_logo }}" class="team-logo" alt="{{ event.home_team.team_name }} Logo">
              {% else %}
              <img src="{{ url_for('static', filename='img/placeholder_team.png') }}" class="team-logo" alt="Placeholder Team Logo">
              {% endif %}
              <h5 class="card-title mb-0 mx-2">{{ event.home_team.team_name if event.home_team else 'TBD' }} <span class="text-primary">vs</span> {{ event.away_team.team_name if event.away_team else 'TBD' }}</h5>
              {% if event.away_team and event.away_team.team_logo %}
              <img src="{{ event.away_team.team_logo }}" class="team-logo" alt="{{ event.away_team.team_name }} Logo">
              {% else %}
              <img src="{{ url_for('static', filename='img/placeholder_team.png') }}" class="team-logo" alt="Placeholder Team Logo">
              {% endif %}
            </div>
            <p class="card-text mb-2 text-muted"><i class="bi bi-calendar-event me-2"></i> <span class="fw-semibold">{{ event.event_date.strftime('%b %d, %Y') }}</span> <span class="ms-3"><i class="bi bi-clock me-2"></i> {{ event.start_time.strftime('%I:%M %p') }}</span></p>
            <p class="card-text mb-4 text-muted"><i class="bi bi-geo-alt me-2"></i> <span class="fw-semibold">{{ event.stadium.name if event.stadium else 'TBD' }}</span></p>
            <div class="match-actions mt-3">
              <a href="{{ url_for('event_detail', event_id=event.id) }}" class="btn btn-outline-primary btn-sm me-2">View Details</a>
              <a href="{{ url_for('select_seats', event_id=event.id) }}" class="btn btn-primary btn-sm">Book Now</a>
            </div>
            <span class="badge bg-gradient position-absolute top-0 end-0 m-3">{{ event.event_type or 'BBL Match' }}</span>
          </div>
        </div>
      </div>
      {% else %}
      <div class="col-12 text-center">
        <p>No upcoming events found.</p>
      </div>
      {% endfor %}
    </div>
  </div>
</section>

<!-- ICONIC BBL VENUES -->
<section class="featured-stadiums py-5">
  <div class="container">
    <h2 class="text-center mb-5 slide-up">üèüÔ∏è Iconic BBL Venues</h2>
    <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
      {% for stadium in featured_stadiums %}
      <div class="col">
        <div class="card h-100 stadium-card rounded-4 shadow-sm">
          {% if stadium.image_url %}
          <img src="{{ stadium.image_url }}" class="card-img-top rounded-top-4" alt="{{ stadium.name }}">
          {% else %}
          <img src="{{ url_for('static', filename='img/placeholder_stadium.png') }}" class="card-img-top rounded-top-4" alt="Placeholder Stadium Image">
          {% endif %}
          <div class="card-body d-flex flex-column">
            <h5 class="card-title mb-2">{{ stadium.name }}</h5>
            <div class="row g-2 mb-3">
              <div class="col-6">
                <p class="card-text text-muted mb-0"><i class="bi bi-geo-alt me-2"></i> {{ stadium.location }}</p>
              </div>
              <div class="col-6">
                <p class="card-text text-muted mb-0"><i class="bi bi-people-fill me-2"></i> <span class="fw-semibold">{{ stadium.capacity | int }} seats</span></p>
              </div>
              <div class="col-12">
                <p class="card-text text-muted mb-0"><i class="bi bi-star-fill me-2"></i> {{ stadium.description if stadium.description else 'No description available.' }}</p>
              </div>
            </div>
            <a href="{{ url_for('stadium_detail', stadium_id=stadium.id) }}" class="btn btn-primary w-100 mt-auto btn-view-stadium">View Stadium</a>
          </div>
        </div>
      </div>
      {% else %}
      <div class="col-12 text-center">
        <p>No featured stadiums found.</p>
      </div>
      {% endfor %}
    </div>
  </div>
</section>

<!-- BBL TEAMS & STAR PLAYERS -->
<section class="teams-players py-5">
  <div class="container">
    <h2 class="text-center mb-5 slide-up">‚≠ê BBL Teams & Star Players</h2>
    <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
      {% for team_data in featured_teams_data %}
      <div class="col">
        <div class="card h-100 team-player-card rounded-4 shadow-sm" style="--team-color: #007bff;">
          {% if team_data.team.team_logo %}
          <img src="{{ team_data.team.team_logo }}" class="team-logo-small mb-3" alt="{{ team_data.team.team_name }} Logo">
          {% else %}
          <img src="{{ url_for('static', filename='img/placeholder_team.png') }}" class="team-logo-small mb-3" alt="Placeholder Team Logo">
          {% endif %}
          <h5 class="card-title mb-2">{{ team_data.team.team_name }}</h5>
          {% if team_data.star_player %}
          <p class="card-text text-muted mb-2">Star Player: <span class="fw-semibold">{{ team_data.star_player.player_name }}</span></p>
          <div class="d-flex align-items-center text-muted">
            {% if team_data.star_player.photo_url %}
            <img src="{{ team_data.star_player.photo_url }}" class="player-image me-2" alt="{{ team_data.star_player.player_name }} Image">
            {% else %}
            <img src="{{ url_for('static', filename='img/placeholder_player.png') }}" class="player-image me-2" alt="Placeholder Player Image">
            {% endif %}
            {{ team_data.star_player.player_role if team_data.star_player.player_role else 'Player' }}
          </div>
          {% else %}
          <p class="card-text text-muted mb-2">No star player listed.</p>
          {% endif %}
        </div>
      </div>
      {% else %}
      <div class="col-12 text-center">
        <p>No featured teams found.</p>
      </div>
      {% endfor %}
    </div>
  </div>
</section>
{% endblock %}