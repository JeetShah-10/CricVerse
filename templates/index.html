{% extends 'base.html' %}
{% block title %}Big Bash League - CricVerse{% endblock %}
{% block head %}
    {{ super() }}
    <!-- BBL Page Specific CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/bbl-enhanced.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/home-enhanced.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/bbl-action-hub.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/stadium_enhanced.css') }}">
    <!-- BBL Enhanced JS -->
    <script src="{{ url_for('static', filename='js/bbl-enhanced.js') }}" defer></script>
    <!-- Supabase data widget styles (scoped to .home-page to avoid global overrides) -->
    <style>
      /* ==== Layout fixes (scoped to .home-page) ==== */
      .home-page .page-background { position: fixed; inset: 0; z-index: 1; pointer-events: none; overflow: hidden; }
      .home-page .floating-particles { position: absolute; inset: 0; pointer-events: none; }
      .home-page .hero-banner, .home-page .highlights-section, .home-page .action-hub-section, .home-page .teams-carousel-section, .home-page .membership-section { position: relative; z-index: 2; }

      .home-page .hero-banner { margin-top: 0; }
      .home-page .highlights-section, .home-page .action-hub-section, .home-page .teams-carousel-section, .home-page .membership-section { margin-top: 32px; }
      @media (max-width: 768px) {
        .home-page .highlights-section, .home-page .action-hub-section, .home-page .teams-carousel-section, .home-page .membership-section { margin-top: 24px; }
      }

      .home-page .hero-background, .home-page .highlights-cricket-action, .home-page .teams-carousel-container { overflow: hidden; }
      .home-page .energy-elements, .home-page .celebration-gif, .home-page .crowd-energy, .home-page .logo-glow { z-index: auto; }

      /* Buttons alignment in hero */
      .home-page .hero-buttons .btn { margin-right: 10px; margin-bottom: 10px; }

      /* Action hub cards stable heights */
      .home-page .action-hub-section .fixture-card { min-height: 180px; }
      .home-page .action-hub-section .teams-matchup { align-items: center; }
      .home-page .action-hub-section .team-logo { width: 48px; height: 48px; object-fit: contain; }

      /* Carousel fixes */
      .home-page .teams-carousel-wrapper { overflow: hidden; }
      .home-page .teams-carousel { display: flex; will-change: transform; }
      .home-page .team-carousel-card { transform: none; transition: transform .25s ease, box-shadow .25s ease; }
      .home-page .team-carousel-card:hover { z-index: 3; }

      @media (max-width: 768px) {
        .home-page .floating-particles, .home-page .energy-elements, .home-page .player-reveal, .home-page .logo-glow { display: none !important; }
        .home-page .team-carousel-card:hover { transform: none !important; }
      }

      .home-page .hero-gradient-overlay { position: absolute; inset: 0; z-index: 1; }
      .home-page .hero-content { position: relative; z-index: 2; }

      /* ==== Supabase widget (scoped) ==== */
      .home-page .supabase-widget { margin: 16px 0; padding: 12px 14px; border:1px solid #e5e7eb; border-radius:10px; background:#0b0f14; color:#e5e7eb; }
      .supabase-widget h5 { margin:0 0 8px; font-weight:600; }
      .home-page .supabase-grid { display:grid; grid-template-columns: repeat(auto-fit, minmax(160px, 1fr)); gap:10px; margin-top:8px; }
      .home-page .sup-card { border:1px solid #1f2937; border-radius:8px; padding:10px; background:#0f1720; }
      .sup-key { color:#9ca3af; font-size:12px; }
      .sup-val { font-size:14px; font-weight:600; }
      .sup-ok { color:#34d399; }
      .sup-err { color:#f87171; }
      .sup-muted { color:#9ca3af; font-size:12px; }
    </style>
{% endblock %}
{% block content %}
<div class="home-page">
<!-- Enhanced Background Elements -->
<div class="page-background">
    <div class="floating-particles" id="particles-container"></div>
</div>

<!-- Database Connection Status Check -->
{% if error_message %}
<div class="alert alert-warning alert-dismissible fade show" role="alert">
    <i class="bi bi-exclamation-triangle-fill"></i>
    {{ error_message }}
    <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
</div>
{% endif %}

<!-- Supabase Live Data (direct from browser via supabase-js) -->
<div class="supabase-widget">
  <h5>Live Data (Supabase)</h5>
  <div id="sup-status" class="sup-muted">Initializing…</div>
  <div class="supabase-grid">
    <div class="sup-card"><div class="sup-key">Events</div><div id="sup-events" class="sup-val">–</div></div>
    <div class="sup-card"><div class="sup-key">Teams</div><div id="sup-teams" class="sup-val">–</div></div>
    <div class="sup-card"><div class="sup-key">Stadiums</div><div id="sup-stadiums" class="sup-val">–</div></div>
  </div>
  <div style="margin-top:8px">
    <button class="btn btn-sm btn-secondary" id="sup-refresh">Refresh</button>
  </div>
</div>

<script>
// Enhanced Interactive JavaScript for Home Page
document.addEventListener('DOMContentLoaded', function() {
    // Initialize all interactive features
    initializeBackgroundParticles();
    initializeActionHub();
    initializeTeamsCarousel();
    initializeVideoOptimization();
    optimizeTeamLogos();
});

// Optimize team logos for better loading and quality
function optimizeTeamLogos() {
    const teamLogos = document.querySelectorAll('.team-logo-carousel, .team-logo-table, .team-badge img');
    
    teamLogos.forEach(img => {
        // Add loading placeholder
        img.style.background = 'rgba(255, 255, 255, 0.1)';
        img.style.minWidth = img.style.width || '80px';
        img.style.minHeight = img.style.height || '80px';
        
        // Handle image load events
        img.addEventListener('load', function() {
            this.style.opacity = '0';
            setTimeout(() => {
                this.style.transition = 'opacity 0.3s ease';
                this.style.opacity = '1';
            }, 100);
        });
        
        img.addEventListener('error', function() {
            console.warn('Failed to load team logo:', this.src);
            this.style.background = 'rgba(255, 107, 53, 0.2)';
            this.style.display = 'flex';
            this.style.alignItems = 'center';
            this.style.justifyContent = 'center';
            this.style.color = '#fff';
            this.style.fontSize = '12px';
            this.style.fontWeight = 'bold';
            this.textContent = 'LOGO';
        });
        
        // Force reload if image is cached but not displayed properly
        if (img.complete && img.naturalHeight === 0) {
            img.src = img.src + '?t=' + Date.now();
        }
    });
}

// Background Particles Animation
function initializeBackgroundParticles() {
    const particlesContainer = document.getElementById('particles-container');
    if (!particlesContainer) return;
    
    function createParticle() {
        const particle = document.createElement('div');
        particle.className = 'particle';
        
        // Random size and position
        const size = Math.random() * 4 + 2;
        particle.style.width = size + 'px';
        particle.style.height = size + 'px';
        particle.style.left = Math.random() * 100 + '%';
        particle.style.animationDuration = (Math.random() * 6 + 8) + 's';
        particle.style.animationDelay = Math.random() * 5 + 's';
        
        particlesContainer.appendChild(particle);
        
        // Remove particle after animation
        setTimeout(() => {
            if (particle.parentNode) {
                particle.parentNode.removeChild(particle);
            }
        }, 13000);
    }
    
    // Create initial particles
    for (let i = 0; i < 15; i++) {
        setTimeout(createParticle, i * 200);
    }
    
    // Continuously create particles
    setInterval(createParticle, 800);
}

// Action Hub Tab Functionality
function initializeActionHub() {
    const tabs = document.querySelectorAll('.hub-tab');
    const panels = document.querySelectorAll('.tab-panel');
    const performerTabs = document.querySelectorAll('.performer-tab');
    const performerPanels = document.querySelectorAll('.performer-panel');
    
    // Main tab switching
    tabs.forEach(tab => {
        tab.addEventListener('click', function() {
            const targetTab = this.getAttribute('data-tab');
            
            // Remove active class from all tabs and panels
            tabs.forEach(t => t.classList.remove('active'));
            panels.forEach(p => p.classList.remove('active'));
            
            // Add active class to clicked tab and corresponding panel
            this.classList.add('active');
            document.getElementById(targetTab + '-panel').classList.add('active');
            
            // Add animation class
            const activePanel = document.getElementById(targetTab + '-panel');
            activePanel.style.animation = 'fadeInUp 0.5s ease-out';
        });
    });
    
    // Performer sub-tab switching
    performerTabs.forEach(tab => {
        tab.addEventListener('click', function() {
            const targetSubtab = this.getAttribute('data-subtab');
            
            // Remove active class from all performer tabs and panels
            performerTabs.forEach(t => t.classList.remove('active'));
            performerPanels.forEach(p => p.classList.remove('active'));
            
            // Add active class to clicked tab and corresponding panel
            this.classList.add('active');
            document.getElementById(targetSubtab + '-performers').classList.add('active');
        });
    });
    
    // Standings table row hover effects
    const standingsRows = document.querySelectorAll('.enhanced-standings-table tbody tr');
    standingsRows.forEach(row => {
        row.addEventListener('mouseenter', function() {
            this.style.transform = 'scale(1.02)';
            this.style.boxShadow = '0 8px 25px rgba(255, 107, 53, 0.3)';
        });
        
        row.addEventListener('mouseleave', function() {
            this.style.transform = 'scale(1)';
            this.style.boxShadow = 'none';
        });
    });
}

// Teams Carousel Functionality
function initializeTeamsCarousel() {
    const carousel = document.getElementById('teamsCarousel');
    const prevBtn = document.getElementById('prevBtn');
    const nextBtn = document.getElementById('nextBtn');
    const indicators = document.querySelectorAll('.indicator');
    const cards = document.querySelectorAll('.team-carousel-card');
    
    if (!carousel) return;
    
    let currentSlide = 0;
    const totalSlides = 3; // Show 3 slides worth of teams
    const cardsPerSlide = Math.ceil(cards.length / totalSlides);
    
    function updateCarousel() {
        const translateX = -currentSlide * (100 / totalSlides);
        carousel.style.transform = `translateX(${translateX}%)`;
        
        // Update indicators
        indicators.forEach((indicator, index) => {
            indicator.classList.toggle('active', index === currentSlide);
        });
    }
    
    function nextSlide() {
        currentSlide = (currentSlide + 1) % totalSlides;
        updateCarousel();
    }
    
    function prevSlide() {
        currentSlide = (currentSlide - 1 + totalSlides) % totalSlides;
        updateCarousel();
    }
    
    // Event listeners
    if (nextBtn) nextBtn.addEventListener('click', nextSlide);
    if (prevBtn) prevBtn.addEventListener('click', prevSlide);
    
    // Indicator clicks
    indicators.forEach((indicator, index) => {
        indicator.addEventListener('click', () => {
            currentSlide = index;
            updateCarousel();
        });
    });
    
    // Auto-advance carousel
    setInterval(nextSlide, 5000);
    
    // Enhanced hover effects for team cards
    cards.forEach(card => {
        const logo = card.querySelector('.team-logo-carousel');
        
        card.addEventListener('mouseenter', function() {
            this.style.transform = 'scale(1.08) translateY(-10px)';
            
            // Show player reveal
            const playerReveal = this.querySelector('.player-reveal');
            if (playerReveal) {
                playerReveal.style.opacity = '1';
            }
            
            // Enhance glow effect
            const glow = this.querySelector('.logo-glow');
            if (glow) {
                glow.style.opacity = '0.8';
                glow.style.transform = 'scale(1.2)';
            }
            
            // Enhance logo on hover
            if (logo) {
                logo.style.transform = 'scale(1.1)';
                logo.style.filter = 'brightness(1.3) contrast(1.3)';
                logo.style.boxShadow = '0 8px 25px rgba(255, 107, 53, 0.3)';
            }
        });
        
        card.addEventListener('mouseleave', function() {
            this.style.transform = 'scale(1) translateY(0)';
            
            // Hide player reveal
            const playerReveal = this.querySelector('.player-reveal');
            if (playerReveal) {
                playerReveal.style.opacity = '0';
            }
            
            // Reset glow effect
            const glow = this.querySelector('.logo-glow');
            if (glow) {
                glow.style.opacity = '0.4';
                glow.style.transform = 'scale(1)';
            }
            
            // Reset logo
            if (logo) {
                logo.style.transform = 'scale(1)';
                logo.style.filter = 'brightness(1.1) contrast(1.2)';
                logo.style.boxShadow = '0 4px 15px rgba(0, 0, 0, 0.2)';
            }
        });
        
        // Click handler to navigate to teams page
        card.addEventListener('click', function() {
            window.location.href = "/teams";
        });
    });
}

// Video optimization and fallback handling
function initializeVideoOptimization() {
    const video = document.querySelector('.hero-video-bg video');
    const fallbackImg = document.querySelector('.hero-fallback-img');
    
    if (video) {
        // Handle video load errors
        video.addEventListener('error', function() {
            console.log('Video failed to load, showing fallback image');
            if (fallbackImg) {
                fallbackImg.style.display = 'block';
            }
        });
        
        // Handle video load success
        video.addEventListener('loadeddata', function() {
            console.log('Video loaded successfully');
            if (fallbackImg) {
                fallbackImg.style.display = 'none';
            }
        });
        
        // Force play on mobile devices if needed
        video.addEventListener('canplay', function() {
            video.play().catch(function(error) {
                console.log('Autoplay prevented:', error);
            });
        });
    }
}

// Add CSS animations
const style = document.createElement('style');
style.textContent = `
    @keyframes fadeInUp {
        from {
            opacity: 0;
            transform: translateY(20px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }
    
    @keyframes pulse {
        0%, 100% {
            transform: scale(1);
        }
        50% {
            transform: scale(1.05);
        }
    }
    
    .live {
        animation: pulse 2s infinite;
    }
`;
document.head.appendChild(style);
</script>

<!-- Supabase browser client (module) -->
<script type="module">
  import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/+esm'

  const SUPABASE_URL = 'https://tiyokcstdmlhpswurelh.supabase.co'
  const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRpeW9rY3N0ZG1saHBzd3VyZWxoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTc2OTkxOTMsImV4cCI6MjA3MzI3NTE5M30.60sud90R8o7elSLmt7AuYK7lYb_F8mIKp04UsCfa0Lo'

  const supabase = createClient(SUPABASE_URL, SUPABASE_ANON_KEY)
  const $ = (id) => document.getElementById(id)
  const set = (id, text) => { const el = $(id); if (el) el.textContent = text }

  async function count(table) {
    const { count, error } = await supabase.from(table).select('*', { count: 'exact', head: true })
    if (error) throw new Error(`${table}: ${error.message}`)
    return count ?? 0
  }

  async function refresh() {
    try {
      set('sup-status', 'Loading…')
      const [events, teams, stadiums] = await Promise.all([
        count('event'), count('team'), count('stadium')
      ])
      set('sup-events', String(events))
      set('sup-teams', String(teams))
      set('sup-stadiums', String(stadiums))
      const status = `OK — events=${events} teams=${teams} stadiums=${stadiums}`
      const el = $('sup-status');
      if (el) { el.textContent = status; el.className = 'sup-ok' }
    } catch (e) {
      const el = $('sup-status');
      if (el) { el.textContent = e.message || String(e); el.className = 'sup-err' }
      console.error(e)
    }
  }

  document.addEventListener('DOMContentLoaded', () => {
    const btn = $('sup-refresh');
    if (btn) btn.addEventListener('click', refresh)
    refresh()
    renderFixtures()
    enableRealtime()
  })

  async function renderFixtures() {
    try {
      const grid = $('fixturesGrid');
      if (!grid) return;
      const [{ data: teams }, { data: events }] = await Promise.all([
        supabase.from('team').select('id,team_name,team_logo'),
        supabase.from('event').select('*').order('event_date').order('start_time').limit(6)
      ])
      const map = new Map((teams||[]).map(t => [t.id, t]))
      const fmtTime = (t) => (t||'').slice(0,5)
      const cards = (events||[]).map(ev => {
        const home = map.get(ev.home_team_id) || { team_name: `Team ${ev.home_team_id}`, team_logo: '' }
        const away = map.get(ev.away_team_id) || { team_name: `Team ${ev.away_team_id}`, team_logo: '' }
        const status = (ev.match_status||'Upcoming').toLowerCase()
        return `
        <div class="fixture-card">
          <div class="fixture-header">
            <span class="match-status ${status==='live'?'live':'upcoming'}">${ev.match_status||'Upcoming'}</span>
            <span class="match-date">${ev.event_date}, ${fmtTime(ev.start_time)}</span>
          </div>
          <div class="teams-matchup">
            <div class="team-side home">
              ${home.team_logo ? `<img src="${home.team_logo}" alt="${home.team_name}" class="team-logo">` : ''}
              <span class="team-name">${home.team_name}</span>
            </div>
            <div class="vs-indicator"><span>VS</span></div>
            <div class="team-side away">
              ${away.team_logo ? `<img src="${away.team_logo}" alt="${away.team_name}" class="team-logo">` : ''}
              <span class="team-name">${away.team_name}</span>
            </div>
          </div>
          <div class="fixture-venue">
            <i class="bi bi-geo-alt"></i>
            <span>Match ID #${ev.id}</span>
          </div>
        </div>`
      }).join('')
      grid.innerHTML = cards || '<div class="sup-muted">No fixtures found</div>'
    } catch (e) {
      console.error('renderFixtures error', e)
    }
  }

  function enableRealtime() {
    try {
      supabase.channel('public-changes')
        .on('postgres_changes', { event: '*', schema: 'public', table: 'event' }, async () => { await refresh(); await renderFixtures() })
        .on('postgres_changes', { event: '*', schema: 'public', table: 'team' }, async () => { await refresh(); await renderFixtures() })
        .on('postgres_changes', { event: '*', schema: 'public', table: 'stadium' }, async () => { await refresh() })
        .subscribe()
    } catch (e) {
      console.warn('Realtime not enabled:', e?.message||e)
    }
  }
</script>
<!-- HERO BANNER -->
<section class="hero-banner">
  <div class="hero-background">
    <div class="hero-video-bg">
      <video autoplay muted loop playsinline preload="auto" poster="{{ url_for('static', filename='img/Match Action .png') }}">
        <source src="{{ url_for('static', filename='img/Main Page Video.mp4') }}" type="video/mp4">
        <!-- Fallback for browsers that don't support video -->
        Your browser does not support the video tag.
      </video>
      <!-- Fallback image for browsers that don't support video -->
      <img src="{{ url_for('static', filename='img/Match Action .png') }}" alt="Cricket Action" class="hero-fallback-img" style="display: none;">
    </div>
    <div class="hero-gradient-overlay"></div>
  </div>
  <div class="container">
    <div class="row">
      <div class="col-lg-8">
        <div class="hero-content">
          <div class="energy-elements">
            <div class="cricket-ball floating"></div>
            <div class="lightning-bolt"></div>
          </div>
          <h1 class="hero-headline">BIG BASH TICKETS NOW ON SALE!</h1>
          <p class="hero-subtext">Experience the ultimate T20 cricket action. Australia's most electrifying tournament awaits!</p>
          <div class="hero-buttons">
            <a href="{{ url_for('main.events') }}" class="btn btn-primary-cta">
              <span>Buy Tickets Now</span>
              <i class="bi bi-ticket-perforated"></i>
            </a>
            <a href="/teams" class="btn btn-secondary-outline">
              <span>View Teams</span>
              <i class="bi bi-people-fill"></i>
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
<!-- HIGHLIGHTS SECTION -->
<section class="highlights-section">
  <div class="container-fluid p-0">
    <div class="row g-0">
      <div class="col-lg-7 highlights-text-side">
        <div class="highlights-content">
          <div class="highlights-decoration"></div>
          <h2 class="highlights-headline">
            EVERYTHING<br>
            <span class="text-yellow">BIG BASH</span><br>
            ALL IN<br>
            <span class="text-pink">ONE PLACE</span>
          </h2>
          <p class="highlights-description">Live scores, player stats, match highlights, team updates, and exclusive content all in your hands.</p>
        </div>
      </div>
      <div class="col-lg-5 highlights-image-side">
        <div class="highlights-cricket-action">
          <img src="{{ url_for('static', filename='img/fan celebrations.png') }}" alt="Fan Celebrations" class="highlights-bg-img">
          <div class="action-overlay"></div>
          <div class="celebration-gif">
            <img src="{{ url_for('static', filename='img/Celebration GIF.gif') }}" alt="Celebration" class="celebration-animation">
          </div>
          <div class="crowd-energy"></div>
        </div>
      </div>
    </div>
  </div>
</section>
<!-- ENHANCED ACTION HUB SECTION -->
<section class="action-hub-section section-divider">
  <div class="container">
    <div class="row">
      <div class="col-12">
        <div class="action-hub-container">
          <div class="hub-header">
            <h2 class="hub-title">BBL Action Hub</h2>
            <p class="hub-subtitle">Live scores, standings, and top performers all in one place</p>
          </div>
          
          <!-- Tab Navigation -->
          <div class="hub-tabs">
            <button class="hub-tab active" data-tab="fixtures">
              <i class="bi bi-calendar-event"></i>
              <span>Fixtures</span>
            </button>
            <button class="hub-tab" data-tab="standings">
              <i class="bi bi-trophy-fill"></i>
              <span>Points Table</span>
            </button>
            <button class="hub-tab" data-tab="performers">
              <i class="bi bi-star-fill"></i>
              <span>Top Performers</span>
            </button>
          </div>
          
          <!-- Tab Content -->
          <div class="hub-content">
            <!-- Fixtures Tab -->
            <div class="tab-panel active" id="fixtures-panel">
              <div class="fixtures-grid" id="fixturesGrid">
                <div class="fixture-card">
                  <div class="fixture-header">
                    <span class="match-status live">LIVE</span>
                    <span class="match-date">Today, 7:15 PM</span>
                  </div>
                  <div class="teams-matchup">
                    <div class="team-side home">
                      <img src="{{ url_for('static', filename='img/teams/Melbourne_Stars_logo.png') }}" alt="Stars" class="team-logo">
                      <span class="team-name">Melbourne Stars</span>
                      <span class="team-score">156/4</span>
                    </div>
                    <div class="vs-indicator">
                      <span>VS</span>
                      <div class="match-progress">
                        <span class="over-info">15.3 overs</span>
                      </div>
                    </div>
                    <div class="team-side away">
                      <img src="{{ url_for('static', filename='img/teams/Sydney_Sixers_logo.svg.png') }}" alt="Sixers" class="team-logo">
                      <span class="team-name">Sydney Sixers</span>
                      <span class="team-score">132/6</span>
                    </div>
                  </div>
                  <div class="fixture-venue">
                    <i class="bi bi-geo-alt"></i>
                    <span>Melbourne Cricket Ground</span>
                  </div>
                </div>
                
                <div class="fixture-card">
                  <div class="fixture-header">
                    <span class="match-status upcoming">Tomorrow</span>
                    <span class="match-date">Dec 17, 6:30 PM</span>
                  </div>
                  <div class="teams-matchup">
                    <div class="team-side home">
                      <img src="{{ url_for('static', filename='img/teams/Perth Scorchers.png') }}" alt="Scorchers" class="team-logo">
                      <span class="team-name">Perth Scorchers</span>
                    </div>
                    <div class="vs-indicator">
                      <span>VS</span>
                    </div>
                    <div class="team-side away">
                      <img src="{{ url_for('static', filename='img/teams/Brisbane Heat.png') }}" alt="Heat" class="team-logo">
                      <span class="team-name">Brisbane Heat</span>
                    </div>
                  </div>
                  <div class="fixture-venue">
                    <i class="bi bi-geo-alt"></i>
                    <span>Optus Stadium, Perth</span>
                  </div>
                </div>
                
                <div class="fixture-card">
                  <div class="fixture-header">
                    <span class="match-status upcoming">Dec 18</span>
                    <span class="match-date">7:15 PM</span>
                  </div>
                  <div class="teams-matchup">
                    <div class="team-side home">
                      <img src="{{ url_for('static', filename='img/teams/Hobart Hurricanes.png') }}" alt="Hurricanes" class="team-logo">
                      <span class="team-name">Hobart Hurricanes</span>
                    </div>
                    <div class="vs-indicator">
                      <span>VS</span>
                    </div>
                    <div class="team-side away">
                      <img src="{{ url_for('static', filename='img/teams/Adelaide Striker.png') }}" alt="Strikers" class="team-logo">
                      <span class="team-name">Adelaide Strikers</span>
                    </div>
                  </div>
                  <div class="fixture-venue">
                    <i class="bi bi-geo-alt"></i>
                    <span>Bellerive Oval, Hobart</span>
                  </div>
                </div>
              </div>
            </div>
            
            <!-- Standings Tab -->
            <div class="tab-panel" id="standings-panel">
              <div class="standings-table-container">
                <table class="enhanced-standings-table">
                  <thead>
                    <tr>
                      <th>Pos</th>
                      <th>Team</th>
                      <th>P</th>
                      <th>W</th>
                      <th>L</th>
                      <th>NRR</th>
                      <th>Pts</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr class="playoff-position" data-team="stars">
                      <td class="position">1</td>
                      <td class="team-cell">
                        <img src="{{ url_for('static', filename='img/teams/Melbourne_Stars_logo.png') }}" alt="Stars" class="team-logo-table">
                        <span class="team-name">Melbourne Stars</span>
                        <span class="playoff-indicator">🏆</span>
                      </td>
                      <td>8</td>
                      <td>6</td>
                      <td>2</td>
                      <td>+0.85</td>
                      <td class="points">16</td>
                    </tr>
                    <tr class="playoff-position" data-team="sixers">
                      <td class="position">2</td>
                      <td class="team-cell">
                        <img src="{{ url_for('static', filename='img/teams/Sydney_Sixers_logo.svg.png') }}" alt="Sixers" class="team-logo-table">
                        <span class="team-name">Sydney Sixers</span>
                        <span class="playoff-indicator">🏆</span>
                      </td>
                      <td>8</td>
                      <td>5</td>
                      <td>3</td>
                      <td>+0.42</td>
                      <td class="points">14</td>
                    </tr>
                    <tr class="playoff-position" data-team="scorchers">
                      <td class="position">3</td>
                      <td class="team-cell">
                        <img src="{{ url_for('static', filename='img/teams/Perth Scorchers.png') }}" alt="Scorchers" class="team-logo-table">
                        <span class="team-name">Perth Scorchers</span>
                        <span class="playoff-indicator">🏆</span>
                      </td>
                      <td>7</td>
                      <td>4</td>
                      <td>3</td>
                      <td>+0.18</td>
                      <td class="points">12</td>
                    </tr>
                    <tr class="playoff-position" data-team="heat">
                      <td class="position">4</td>
                      <td class="team-cell">
                        <img src="{{ url_for('static', filename='img/teams/Brisbane Heat.png') }}" alt="Heat" class="team-logo-table">
                        <span class="team-name">Brisbane Heat</span>
                        <span class="playoff-indicator">🏆</span>
                      </td>
                      <td>8</td>
                      <td>4</td>
                      <td>4</td>
                      <td>-0.15</td>
                      <td class="points">10</td>
                    </tr>
                    <tr data-team="hurricanes">
                      <td class="position">5</td>
                      <td class="team-cell">
                        <img src="{{ url_for('static', filename='img/teams/Hobart Hurricanes.png') }}" alt="Hurricanes" class="team-logo-table">
                        <span class="team-name">Hobart Hurricanes</span>
                      </td>
                      <td>7</td>
                      <td>3</td>
                      <td>4</td>
                      <td>-0.28</td>
                      <td class="points">8</td>
                    </tr>
                    <tr data-team="strikers">
                      <td class="position">6</td>
                      <td class="team-cell">
                        <img src="{{ url_for('static', filename='img/teams/Adelaide Striker.png') }}" alt="Strikers" class="team-logo-table">
                        <span class="team-name">Adelaide Strikers</span>
                      </td>
                      <td>8</td>
                      <td>3</td>
                      <td>5</td>
                      <td>-0.35</td>
                      <td class="points">8</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
            
            <!-- Performers Tab -->
            <div class="tab-panel" id="performers-panel">
              <div class="performers-container">
                <div class="performers-subtabs">
                  <button class="performer-tab active" data-subtab="runs">Most Runs</button>
                  <button class="performer-tab" data-subtab="wickets">Most Wickets</button>
                </div>
                
                <div class="performer-content">
                  <div class="performer-panel active" id="runs-performers">
                    <div class="player-cards-grid">
                      <div class="player-card featured">
                        <div class="player-photo">
                          <div class="player-avatar">MS</div>
                          <div class="player-stats-overlay">
                            <span class="stat-number">485</span>
                            <span class="stat-label">Runs</span>
                          </div>
                        </div>
                        <div class="player-info">
                          <h4 class="player-name">Marcus Stoinis</h4>
                          <div class="team-badge stars-badge">
                            <img src="{{ url_for('static', filename='img/teams/Melbourne_Stars_logo.png') }}" alt="Stars">
                            <span>Melbourne Stars</span>
                          </div>
                        </div>
                      </div>
                      
                      <div class="player-card">
                        <div class="player-photo">
                          <div class="player-avatar">JI</div>
                          <div class="player-stats-overlay">
                            <span class="stat-number">423</span>
                            <span class="stat-label">Runs</span>
                          </div>
                        </div>
                        <div class="player-info">
                          <h4 class="player-name">Josh Inglis</h4>
                          <div class="team-badge scorchers-badge">
                            <img src="{{ url_for('static', filename='img/teams/Perth Scorchers.png') }}" alt="Scorchers">
                            <span>Perth Scorchers</span>
                          </div>
                        </div>
                      </div>
                      
                      <div class="player-card">
                        <div class="player-photo">
                          <div class="player-avatar">AH</div>
                          <div class="player-stats-overlay">
                            <span class="stat-number">395</span>
                            <span class="stat-label">Runs</span>
                          </div>
                        </div>
                        <div class="player-info">
                          <h4 class="player-name">Alex Hales</h4>
                          <div class="team-badge sixers-badge">
                            <img src="{{ url_for('static', filename='img/teams/Sydney_Sixers_logo.svg.png') }}" alt="Sixers">
                            <span>Sydney Sixers</span>
                          </div>
                        </div>
                      </div>
                      
                      <div class="player-card">
                        <div class="player-photo">
                          <div class="player-avatar">CL</div>
                          <div class="player-stats-overlay">
                            <span class="stat-number">367</span>
                            <span class="stat-label">Runs</span>
                          </div>
                        </div>
                        <div class="player-info">
                          <h4 class="player-name">Chris Lynn</h4>
                          <div class="team-badge heat-badge">
                            <img src="{{ url_for('static', filename='img/teams/Brisbane Heat.png') }}" alt="Heat">
                            <span>Brisbane Heat</span>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  
                  <div class="performer-panel" id="wickets-performers">
                    <div class="player-cards-grid">
                      <div class="player-card featured">
                        <div class="player-photo">
                          <div class="player-avatar">TB</div>
                          <div class="player-stats-overlay">
                            <span class="stat-number">24</span>
                            <span class="stat-label">Wickets</span>
                          </div>
                        </div>
                        <div class="player-info">
                          <h4 class="player-name">Trent Boult</h4>
                          <div class="team-badge hurricanes-badge">
                            <img src="{{ url_for('static', filename='img/teams/Hobart Hurricanes.png') }}" alt="Hurricanes">
                            <span>Hobart Hurricanes</span>
                          </div>
                        </div>
                      </div>
                      
                      <div class="player-card">
                        <div class="player-photo">
                          <div class="player-avatar">JR</div>
                          <div class="player-stats-overlay">
                            <span class="stat-number">22</span>
                            <span class="stat-label">Wickets</span>
                          </div>
                        </div>
                        <div class="player-info">
                          <h4 class="player-name">Jhye Richardson</h4>
                          <div class="team-badge scorchers-badge">
                            <img src="{{ url_for('static', filename='img/teams/Perth Scorchers.png') }}" alt="Scorchers">
                            <span>Perth Scorchers</span>
                          </div>
                        </div>
                      </div>
                      
                      <div class="player-card">
                        <div class="player-photo">
                          <div class="player-avatar">AZ</div>
                          <div class="player-stats-overlay">
                            <span class="stat-number">21</span>
                            <span class="stat-label">Wickets</span>
                          </div>
                        </div>
                        <div class="player-info">
                          <h4 class="player-name">Adam Zampa</h4>
                          <div class="team-badge stars-badge">
                            <img src="{{ url_for('static', filename='img/teams/Melbourne_Stars_logo.png') }}" alt="Stars">
                            <span>Melbourne Stars</span>
                          </div>
                        </div>
                      </div>
                      
                      <div class="player-card">
                        <div class="player-photo">
                          <div class="player-avatar">SA</div>
                          <div class="player-stats-overlay">
                            <span class="stat-number">19</span>
                            <span class="stat-label">Wickets</span>
                          </div>
                        </div>
                        <div class="player-info">
                          <h4 class="player-name">Sean Abbott</h4>
                          <div class="team-badge sixers-badge">
                            <img src="{{ url_for('static', filename='img/teams/Sydney_Sixers_logo.svg.png') }}" alt="Sixers">
                            <span>Sydney Sixers</span>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
<!-- ENHANCED TEAMS CAROUSEL SECTION -->
<section class="teams-carousel-section section-divider">
  <div class="container">
    <div class="row">
      <div class="col-12">
        <div class="carousel-header">
          <h2 class="carousel-title">BBL Teams</h2>
          <p class="carousel-subtitle">Discover your favorite franchise</p>
        </div>
        
        <div class="teams-carousel-container">
          <div class="carousel-navigation">
            <button class="carousel-btn prev-btn" id="prevBtn">
              <i class="bi bi-chevron-left"></i>
            </button>
            <button class="carousel-btn next-btn" id="nextBtn">
              <i class="bi bi-chevron-right"></i>
            </button>
          </div>
          
          <div class="teams-carousel-wrapper">
            <div class="teams-carousel" id="teamsCarousel">
              <div class="team-carousel-card adelaide-strikers" data-team="strikers">
                <div class="team-card-content">
                  <div class="team-logo-container">
                    <img src="{{ url_for('static', filename='img/teams/Adelaide Striker.png') }}" alt="Adelaide Strikers" class="team-logo-carousel">
                    <div class="logo-glow strikers-glow"></div>
                  </div>
                  <div class="team-info-overlay">
                    <h3 class="team-full-name">Adelaide Strikers</h3>
                    <p class="team-subtitle">The Strike Force</p>
                    <div class="team-stats">
                      <span class="stat-item">6th Position</span>
                      <span class="stat-divider">•</span>
                      <span class="stat-item">8 Points</span>
                    </div>
                  </div>
                  <div class="player-reveal">
                    <div class="player-silhouette strikers-player"></div>
                  </div>
                </div>
                <div class="team-color-accent strikers-accent"></div>
              </div>
              
              <div class="team-carousel-card brisbane-heat" data-team="heat">
                <div class="team-card-content">
                  <div class="team-logo-container">
                    <img src="{{ url_for('static', filename='img/teams/Brisbane Heat.png') }}" alt="Brisbane Heat" class="team-logo-carousel">
                    <div class="logo-glow heat-glow"></div>
                  </div>
                  <div class="team-info-overlay">
                    <h3 class="team-full-name">Brisbane Heat</h3>
                    <p class="team-subtitle">Feel the Heat</p>
                    <div class="team-stats">
                      <span class="stat-item">4th Position</span>
                      <span class="stat-divider">•</span>
                      <span class="stat-item">10 Points</span>
                    </div>
                  </div>
                  <div class="player-reveal">
                    <div class="player-silhouette heat-player"></div>
                  </div>
                </div>
                <div class="team-color-accent heat-accent"></div>
              </div>
              
              <div class="team-carousel-card hobart-hurricanes" data-team="hurricanes">
                <div class="team-card-content">
                  <div class="team-logo-container">
                    <img src="{{ url_for('static', filename='img/teams/Hobart Hurricanes.png') }}" alt="Hobart Hurricanes" class="team-logo-carousel">
                    <div class="logo-glow hurricanes-glow"></div>
                  </div>
                  <div class="team-info-overlay">
                    <h3 class="team-full-name">Hobart Hurricanes</h3>
                    <p class="team-subtitle">Hurricane Force</p>
                    <div class="team-stats">
                      <span class="stat-item">5th Position</span>
                      <span class="stat-divider">•</span>
                      <span class="stat-item">8 Points</span>
                    </div>
                  </div>
                  <div class="player-reveal">
                    <div class="player-silhouette hurricanes-player"></div>
                  </div>
                </div>
                <div class="team-color-accent hurricanes-accent"></div>
              </div>
              
              <div class="team-carousel-card melbourne-renegades" data-team="renegades">
                <div class="team-card-content">
                  <div class="team-logo-container">
                    <img src="{{ url_for('static', filename='img/teams/Melbourne Renegades.png') }}" alt="Melbourne Renegades" class="team-logo-carousel">
                    <div class="logo-glow renegades-glow"></div>
                  </div>
                  <div class="team-info-overlay">
                    <h3 class="team-full-name">Melbourne Renegades</h3>
                    <p class="team-subtitle">Rebel Spirit</p>
                    <div class="team-stats">
                      <span class="stat-item">7th Position</span>
                      <span class="stat-divider">•</span>
                      <span class="stat-item">6 Points</span>
                    </div>
                  </div>
                  <div class="player-reveal">
                    <div class="player-silhouette renegades-player"></div>
                  </div>
                </div>
                <div class="team-color-accent renegades-accent"></div>
              </div>
              
              <div class="team-carousel-card melbourne-stars" data-team="stars">
                <div class="team-card-content">
                  <div class="team-logo-container">
                    <img src="{{ url_for('static', filename='img/teams/Melbourne_Stars_logo.png') }}" alt="Melbourne Stars" class="team-logo-carousel">
                    <div class="logo-glow stars-glow"></div>
                  </div>
                  <div class="team-info-overlay">
                    <h3 class="team-full-name">Melbourne Stars</h3>
                    <p class="team-subtitle">Shine Bright</p>
                    <div class="team-stats">
                      <span class="stat-item">1st Position</span>
                      <span class="stat-divider">•</span>
                      <span class="stat-item">16 Points</span>
                    </div>
                  </div>
                  <div class="player-reveal">
                    <div class="player-silhouette stars-player"></div>
                  </div>
                </div>
                <div class="team-color-accent stars-accent"></div>
              </div>
              
              <div class="team-carousel-card perth-scorchers" data-team="scorchers">
                <div class="team-card-content">
                  <div class="team-logo-container">
                    <img src="{{ url_for('static', filename='img/teams/Perth Scorchers.png') }}" alt="Perth Scorchers" class="team-logo-carousel">
                    <div class="logo-glow scorchers-glow"></div>
                  </div>
                  <div class="team-info-overlay">
                    <h3 class="team-full-name">Perth Scorchers</h3>
                    <p class="team-subtitle">Desert Fire</p>
                    <div class="team-stats">
                      <span class="stat-item">3rd Position</span>
                      <span class="stat-divider">•</span>
                      <span class="stat-item">12 Points</span>
                    </div>
                  </div>
                  <div class="player-reveal">
                    <div class="player-silhouette scorchers-player"></div>
                  </div>
                </div>
                <div class="team-color-accent scorchers-accent"></div>
              </div>
              
              <div class="team-carousel-card sydney-sixers" data-team="sixers">
                <div class="team-card-content">
                  <div class="team-logo-container">
                    <img src="{{ url_for('static', filename='img/teams/Sydney_Sixers_logo.svg.png') }}" alt="Sydney Sixers" class="team-logo-carousel">
                    <div class="logo-glow sixers-glow"></div>
                  </div>
                  <div class="team-info-overlay">
                    <h3 class="team-full-name">Sydney Sixers</h3>
                    <p class="team-subtitle">Six Appeal</p>
                    <div class="team-stats">
                      <span class="stat-item">2nd Position</span>
                      <span class="stat-divider">•</span>
                      <span class="stat-item">14 Points</span>
                    </div>
                  </div>
                  <div class="player-reveal">
                    <div class="player-silhouette sixers-player"></div>
                  </div>
                </div>
                <div class="team-color-accent sixers-accent"></div>
              </div>
              
              <div class="team-carousel-card sydney-thunder" data-team="thunder">
                <div class="team-card-content">
                  <div class="team-logo-container">
                    <img src="{{ url_for('static', filename='img/teams/Sydney Thunder.png') }}" alt="Sydney Thunder" class="team-logo-carousel">
                    <div class="logo-glow thunder-glow"></div>
                  </div>
                  <div class="team-info-overlay">
                    <h3 class="team-full-name">Sydney Thunder</h3>
                    <p class="team-subtitle">Thunder Strike</p>
                    <div class="team-stats">
                      <span class="stat-item">8th Position</span>
                      <span class="stat-divider">•</span>
                      <span class="stat-item">4 Points</span>
                    </div>
                  </div>
                  <div class="player-reveal">
                    <div class="player-silhouette thunder-player"></div>
                  </div>
                </div>
                <div class="team-color-accent thunder-accent"></div>
              </div>
            </div>
          </div>
          
          <div class="carousel-indicators">
            <span class="indicator active" data-slide="0"></span>
            <span class="indicator" data-slide="1"></span>
            <span class="indicator" data-slide="2"></span>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- MEMBERSHIP SECTION -->
<section class="membership-section">
  <div class="membership-bg-overlay"></div>
  <div class="container">
    <div class="row align-items-center">
      <div class="col-lg-6">
        <div class="membership-visual">
          <div class="crowd-cheering">
            <img src="{{ url_for('static', filename='img/Celebration.png') }}" alt="Stadium Celebration" class="membership-bg-img">
            <div class="crowd-silhouettes"></div>
            <div class="stadium-lights"></div>
            <div class="energy-burst">
              <img src="{{ url_for('static', filename='img/Stadium FireCracker.png') }}" alt="Stadium Fireworks" class="fireworks-img">
            </div>
          </div>
        </div>
      </div>
      <div class="col-lg-6">
        <div class="membership-content">
          <div class="content-backdrop"></div>
          <h2>BENEFITS OF BIG BASH MEMBERSHIP</h2>
          <ul class="benefits-list enhanced">
            <li><i class="bi bi-ticket-perforated perk-icon"></i>Access to home matches with reserved seating</li>
            <li><i class="bi bi-trophy perk-icon"></i>Priority access to finals tickets</li>
            <li><i class="bi bi-bag perk-icon"></i>Exclusive member discounts on merchandise</li>
            <li><i class="bi bi-star-fill perk-icon"></i>VIP matchday experiences and events</li>
            <li><i class="bi bi-people-fill perk-icon"></i>Meet & greet opportunities with players</li>
          </ul>
          <a href="{{ url_for('auth.register') }}" class="btn btn-membership-cta">
            <span>JOIN NOW</span>
            <i class="bi bi-arrow-right"></i>
          </a>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Enhanced BBL JavaScript -->
<script src="{{ url_for('static', filename='js/bbl-enhanced.js') }}"></script>
</div>
{% endblock %}
